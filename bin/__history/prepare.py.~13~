#!/usr/bin/env python
import os
import zipfile

def zipdir(path, zip):
    for root, dirs, files in os.walk(path,topdown=True):
        dirs[:] = [d for d in dirs if not (d.startswith(".") or d.startswith("_"))] 
        for file in files:
            if not (file.lower().endswith(("jar","zip")) or file.startswith(".") or file.startswith("_")):
                if dirs.length > 0: file= os.path.join(dirs[0],file)
                print("adding file:" + file)
                #print(os.path.join(dirs[0],file))
                zip.write(os.path.join(root, file),file)
            else:
                print "Skipping file:" + file

if __name__ == '__main__':
    zip = zipfile.ZipFile('survivalchests.jar', 'w')
    usefolder = os.path.dirname(os.path.realpath(__file__))
    zipdir(usefolder, zip)
    zip.close()