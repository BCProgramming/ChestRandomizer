#!/usr/bin/env python
import os
import zipfile

def zipdir(path,rootfolder, zip):
    for root, dirs, files in os.walk(path,topdown=True):
        print(root,dirs,files)
        dirs[:] = [d for d in dirs if not (d.startswith(".") or d.startswith("_"))] 
        for dir in dirs:
            zipdir(os.path.join(root,dir),osp.ath.join(rootfolder,dir),zip)
        for file in files:
            if not (file.lower().endswith(("jar","zip")) or file.startswith(".") or file.startswith("_")):
                print("adding file:" + file)
                #print(os.path.join(dirs[0],file))
                zip.write(os.path.join(root, file),os.path.join(rootfolder,file))
            else:
                print "Skipping file:" + file
        break
if __name__ == '__main__':
    zip = zipfile.ZipFile('survivalchests.jar', 'w')
    usefolder = os.path.dirname(os.path.realpath(__file__))
    zipdir(usefolder,"", zip)
    zip.close()